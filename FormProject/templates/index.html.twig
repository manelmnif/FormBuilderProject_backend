{% extends 'template.html.twig' %}
{% block title %}Création - Formulaire{% endblock %}
{% block content %}
    {% block body %}
            <div class="container">
            
                <div class="row">
                    <div class="col-sm-12">
                  
                            <div class="row">  
                                <div class="col-lg-3 col-md-4">
                                {% set currentPath = path(app.request.attributes.get('_route'),
                                app.request.attributes.get('_route_params')) %}
                           {% set url = app.request.attributes.get('_route_params')['url'] %}
                            
                                
                                    <div class="text-center card-box" style="position: fixed; width: 309px; left:5%; top:20%;">
                                        <div class="member-card">

                                            <a href="javascript:;" data-toggle="modal" data-target="#add-category" class="btn btn-lg btn-danger btn-block waves-effect m-t-20 waves-light btn-section">
                                                <i class="fa fa-plus"></i>
                                                Créer une nouvelle section                                                  
                                            </a>
                                            <div id="external-events" class="m-t-20 nav">
                                                <br>

                                                    {% for elementType in elementTypes %}

                                                        <div data-elementType="{{ elementType.type }}" data-type="{{ elementType.typeHtml }}" balise="{{ elementType.baliseHtml }}" id="{{ elementType.id }}" class="external-event bg-success form_bal_textfield" data-class="bg-success" style="position: relative; ">
                                                            <a href="javascript:;">
                                                                <i class="mdi mdi-message-text-outline m-r-10 vertical-middle"></i>
                                                                &nbsp;
                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                
                                                                                                                                
                                                                {{ elementType.type }}
                                                            </div>
                                                        
                                                        {% endfor %}
                                                    </div>

                                                </div>

                                            </div>
                                        <!-- end card-box -->

                                    </div>
                                        <!-- end col -->

                                        <div class="col-md-8 ">

                                            <div class="card-box form_builder_area ui-sortable">
                             

                                             
                                                {% for section in sections %}
                                               
                                                    <div id="sortable" data-field="{{ section.name }}" data-block="{{ section.ordre }}" class="block_{{ section.name }} block ">
                                                        <div class="col-md-12 block_hover" data-field="{{ section.name }}">
                                                            <div class="form-group " style="margin-top: 20px; margin-bottom: -10px;">
                                                                  <input id="{{section.name}}" class="titre" placeholder="Titre de la section" style="border:none; font-family:Garamond, serif; font-weight: bold; font-size: 30px; color: black; ">
                                                            <div class="pull-right">
                                                            <a class="table-action-btn h3">
                                                                        <i class="mdi mdi-close-box-outline text-danger remove_block removehover_{{ section.name }}" data-field="{{ section.name }}"></i>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                            <br>
                                                                <div id="{{ section.name }}" class="section-box block-area ui-sortable block_hover_{{ section.name }} " data-field="{{ section.name }}" >

                                                                    {% for element in section.elements %}
                                                                            <!-- start Text Field -->
                                                                            {% if element.elementType.type == "Text Field" or element.elementType.type == "Number" %}
                                                                        <div class="li_{{ element.name }} form_builder_field elmt ui-sortable-handle" data-field="{{ element.name }}" order-elmt="{{ element.ordre }}" >
                                                                            <div class="form-group" data-field="{{ element.name }}">
                                                                                <div class="  pull-right">
                                                                                    <div>
                                                                                        <a class="table-action-btn h3">
                                                                                            <i class="mdi mdi-settings-box text-success btn-elmt" id="openModalButton" data-toggle="modal" data-target="#con-close-modal_{{ element.name }}" data-animation="fadein" data-plugin="custommodal" data-overlayspeed="200" data-overlaycolor="#36404a"></i>
                                                                                        </a>
                                                                                        <a class="table-action-btn h3">
                                                                                            <i class="mdi mdi-close-box-outline text-danger remove_bal_field" data-field="{{ element.name }}"></i>
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div>

                                                                                <div class="form-group m-l-15 form_elmt">
                                                                                    <p id="label{{ element.name }}" class="control-label labelform">
                                                                                        {{ element.label }}

                                                                            </p> 
                                                                                    <div class="row">
                                                                                        <div class="col-md-12">
                                                                                            <input id="placeholder{{ element.name }}" type="{{ element.elementType.typeHtml }}" name="" placeholder="{{ element.placeholder }}" class="form-control "></div>
                                                                                        </div>
                                                                                    </div>
                                                                                  
                                                                                </div>
                                                                                <br>

                                                                                    <div id="con-close-modal_{{ element.name }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                                                                                        <div class="modal-dialog">
                                                                                            <div class="modal-content">
                                                                                                <div class="modal-header">
                                                                                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="display:block;">
                                                                                                        ×                                                                                                        
                                                                                                    </button>
                                                                                                    <h4 class="modal-title">
                                                                                                    <center>
                                                                                                        Parametrage du champ   
                                                                                                    </center>                                                                                                    
                                                                                                    </h4>
                                                                                                </div>
                                                                                                <form id="form_{{ element.name }}" class="modal-body-form{{ element.name }}" name="validationform">

                                                                                                <div class=" modal-body modal-body{{ element.name }} custom-modal-text text-left">

                                                                                                        <div class="col-md-12">
                                                                                                            <div class="form-group">
                                                                                                                <label id="{{ element.name }}" for="name">
                                                                                                                    Label                                                                                                                    
                                                                                                                </label>
                                                                                                                <input  required type="text" class="form-control " id="inputLabel{{ element.name }}" value="{{ element.label }}"></div>
                                                                                                            </div>
                                                                                                            <div class="col-md-12">
                                                                                                                <div class="form-group">
                                                                                                                    <label id="{{ element.name }}" for="name">
                                                                                                                        Placeholder                                                                                                                              
                                                                                                                    </label>
                                                                                                                    <input type="text" class="form-control" id="inputPlaceholder{{ element.name }}" value="{{ element.placeholder }}"></div>
                                                                                                                </div>

                                                                                                                {% set  validations = element.getConstraintValidationByType %}

                                                                                                                {% set i = 0 %}
                                                                                                                {% for validation in validations %}
                                                                                                                    {% set  validationValues = element.getConstraintValidationByElement(validation) %}
                                                                                                                   
                                                                                                         

                                                                                                                    {% if validation.html != 'checkbox' %}
                                                                                                                  
                                                                                                                        <div class="col-md-12">
                                                                                                                            <div class="form-group">
                                                                                                                                <label class="control-label">
                                                                                                                                    {{ validation.contrainte }}

                                                                                                                                </label>
                                                                                                                                <input value="{% if validationValues is not null %}{{ validationValues.value }}{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% endif %}" id="inputConstraint{{ element.name }}{{ i }}" elementtype="{{ element.elementType.id }}" data-field="{{ element.name }}" type="input" class="form-control input contrainte{{element.name}}">
                                                                                                                            <label  class="error text-error " for="form_name" style =" display :none; ">la valeur de maxlength doit être supérieur à la valeur de minlength!</label>
                                                                                                                        <label  class="error number-error " for="form_name" style =" display :none; ">la valeur de max doit être supérieur à la valeur de min!</label>
                                                                                                                    </div>
                                                                                                                            
                                                                                                                            </div>
                                                                                                                        {% else %}
                                                                                                                            <div class="col-md-12">
                                                                                                                                <div class="checkbox checkbox-primary">
                                                                                                                               
                                                                                                                                    <input value="{% if validationValues is not null %}{{ validationValues.value }}{% else%}1{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% else %}4{% endif %}" id="inputConstraint{{ element.name }}" type="checkbox" {% if validationValues is not null %} {% if validationValues.value == '1' %} checked {% endif %} {% endif %}>
                                                                                                                                    
                                                                                                                                    <label for="checkbox1">
                                                                                                                                            {{ validation.contrainte }}
                                                                                                                                        </label>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            {% endif %}
                                                                                                                            {% set i = i+1 %}
                                                                                                                        {% endfor %}
                                                                                                                        

                                                                                                                     <center>
                                                                                                                   
                                                                                                                            <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">
                                                                                                                                Fermer                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                            
                                                                                                                            </button>

                                                                                                                            <button elementTypeName="{{element.elementType.type}}" elementtype="{{ element.elementType.id }}" type="button"  class="btn btn-info waves-effect waves-light btnElmt" data-field="{{ element.name }}"  >
                                                                                                                                Enregistrer                                                                                                                                           
                                                                                                                            </button>
                                                                                                                       
                                                                                                                        </center>
                                                                                                                </div>   </form>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                </div>
                                                                                            {% endif %}
                                                                                              <!--end TextField -->
                                                                                                    <!-- start Textarea -->
                                                                            {% if element.elementType.type == "Text Area" %}
                                                                            <div class="li_{{ element.name }} form_builder_field elmt ui-sortable-handle" data-field="{{ element.name }}" order-elmt="{{ element.ordre }}" >
                                                                                <div class="form-group" data-field="{{ element.name }}">
                                                                                    <div class="  pull-right">
                                                                                        <div>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-settings-box text-success btn-elmt" id="openModalButton" data-toggle="modal" data-target="#con-close-modal_{{ element.name }}" data-animation="fadein" data-plugin="custommodal" data-overlayspeed="200" data-overlaycolor="#36404a"></i>
                                                                                            </a>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-close-box-outline text-danger remove_bal_field" data-field="{{ element.name }}"></i>
                                                                                            </a>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div>
    
                                                                                    <div class="form-group m-l-15 form_elmt">
                                                                                        <p id="label{{ element.name }}" class="control-label labelform">
                                                                                            {{ element.label }}
    
                                                                                </p> 
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <textarea id="placeholder{{ element.name }}" type="{{ element.elementType.typeHtml }}" name="" placeholder="{{ element.placeholder }}" class="form-control "></textarea></div>
                                                                                            </div>
                                                                                        </div>
                                                                                      
                                                                                    </div>
                                                                                    <br>
    
                                                                                        <div id="con-close-modal_{{ element.name }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                                                                                            <div class="modal-dialog">
                                                                                                <div class="modal-content">
                                                                                                    <div class="modal-header">
                                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="display:block;">
                                                                                                            ×                                                                                                        
                                                                                                        </button>
                                                                                                        <h4 class="modal-title">
                                                                                                        <center>
                                                                                                            Parametrage du champ   
                                                                                                        </center>                                                                                                    
                                                                                                        </h4>
                                                                                                    </div>
                                                                                                    <form id="form_{{ element.name }}" class="modal-body-form{{ element.name }}" name="validationform">
    
                                                                                                    <div class=" modal-body modal-body{{ element.name }} custom-modal-text text-left">
    
                                                                                                            <div class="col-md-12">
                                                                                                                <div class="form-group">
                                                                                                                    <label id="{{ element.name }}" for="name">
                                                                                                                        Label                                                                                                                    
                                                                                                                    </label>
                                                                                                                    <input  required type="text" class="form-control " id="inputLabel{{ element.name }}" value="{{ element.label }}"></div>
                                                                                                                </div>
                                                                                                                <div class="col-md-12">
                                                                                                                    <div class="form-group">
                                                                                                                        <label id="{{ element.name }}" for="name">
                                                                                                                            Placeholder                                                                                                                              
                                                                                                                        </label>
                                                                                                                        <input type="text" class="form-control" id="inputPlaceholder{{ element.name }}" value="{{ element.placeholder }}"></div>
                                                                                                                    </div>
    
                                                                                                                    {% set  validations = element.getConstraintValidationByType %}
    
                                                                                                                    {% set i = 0 %}
                                                                                                                    {% for validation in validations %}
                                                                                                                        {% set  validationValues = element.getConstraintValidationByElement(validation) %}
                                                                                                                       
                                                                                                             
    
                                                                                                                        {% if validation.html != 'checkbox' %}
                                                                                                                      
                                                                                                                            <div class="col-md-12">
                                                                                                                                <div class="form-group">
                                                                                                                                    <label class="control-label">
                                                                                                                                        {{ validation.contrainte }}
    
                                                                                                                                    </label>
                                                                                                                                    <input value="{% if validationValues is not null %}{{ validationValues.value }}{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% endif %}" id="inputConstraint{{ element.name }}{{ i }}" elementtype="{{ element.elementType.id }}" data-field="{{ element.name }}" type="input" class="form-control input contrainte{{element.name}}">
                                                                                                                                <label  class="error text-error " for="form_name" style =" display :none; ">la valeur de maxlength doit être supérieur à la valeur de minlength!</label>
                                                                                                                            <label  class="error number-error " for="form_name" style =" display :none; ">la valeur de max doit être supérieur à la valeur de min!</label>
                                                                                                                        </div>
                                                                                                                                
                                                                                                                                </div>
                                                                                                                            {% else %}
                                                                                                                                <div class="col-md-12">
                                                                                                                                    <div class="checkbox checkbox-primary">
                                                                                                                                   
                                                                                                                                        <input value="{% if validationValues is not null %}{{ validationValues.value }}{% else%}1{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% else %}4{% endif %}" id="inputConstraint{{ element.name }}" type="checkbox" {% if validationValues is not null %} {% if validationValues.value == '1' %} checked {% endif %} {% endif %}>
                                                                                                                                        
                                                                                                                                        <label for="checkbox1">
                                                                                                                                                {{ validation.contrainte }}
                                                                                                                                            </label>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                {% endif %}
                                                                                                                                {% set i = i+1 %}
                                                                                                                            {% endfor %}
                                                                                                                            
    
                                                                                                                         <center>
                                                                                                                       
                                                                                                                                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">
                                                                                                                                    Fermer                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                
                                                                                                                                </button>
    
                                                                                                                                <button elementTypeName="{{element.elementType.type}}" elementtype="{{ element.elementType.id }}" type="button"  class="btn btn-info waves-effect waves-light btnElmt" data-field="{{ element.name }}"  >
                                                                                                                                    Enregistrer                                                                                                                                           
                                                                                                                                </button>
                                                                                                                           
                                                                                                                            </center>
                                                                                                                    </div>   </form>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
    
                                                                                                    </div>
                                                                                                {% endif %}
                                                                                                  <!--end Textarea -->
                                                                                                     <!-- start Date -->
                                                                            {% if element.elementType.type == "Date" %}
                                                                            <div class="li_{{ element.name }} form_builder_field elmt ui-sortable-handle" data-field="{{ element.name }}" order-elmt="{{ element.ordre }}" >
                                                                                <div class="form-group" data-field="{{ element.name }}">
                                                                                    <div class="  pull-right">
                                                                                        <div>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-settings-box text-success btn-elmt" id="openModalButton" data-toggle="modal" data-target="#con-close-modal_{{ element.name }}" data-animation="fadein" data-plugin="custommodal" data-overlayspeed="200" data-overlaycolor="#36404a"></i>
                                                                                            </a>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-close-box-outline text-danger remove_bal_field" data-field="{{ element.name }}"></i>
                                                                                            </a>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div>
    
                                                                                    <div class="form-group m-l-15 form_elmt">
                                                                                        <p id="label{{ element.name }}" class="control-label labelform">
                                                                                            {{ element.label }}
    
                                                                                </p> 
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                        <div class="input-group"><input id="placeholder{{ element.name }}" type="text" name="" placeholder="{{ element.placeholder }}" class="form-control datepicker"><span class="input-group-addon bg-custom b-0"><i class="mdi mdi-calendar text-white"></i></span></div>
                                                                                            </div>
                                                                                            </div>
                                                                                        </div>
                                                                                      
                                                                                    </div>
                                                                                    <br>
    
                                                                                        <div id="con-close-modal_{{ element.name }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                                                                                            <div class="modal-dialog">
                                                                                                <div class="modal-content">
                                                                                                    <div class="modal-header">
                                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="display:block;">
                                                                                                            ×                                                                                                        
                                                                                                        </button>
                                                                                                        <h4 class="modal-title">
                                                                                                        <center>
                                                                                                            Parametrage du champ   
                                                                                                        </center>                                                                                                    
                                                                                                        </h4>
                                                                                                    </div>
                                                                                                    <form id="form_{{ element.name }}" class="modal-body-form{{ element.name }}" name="validationform">
    
                                                                                                    <div class=" modal-body modal-body{{ element.name }} custom-modal-text text-left">
    
                                                                                                            <div class="col-md-12">
                                                                                                                <div class="form-group">
                                                                                                                    <label id="{{ element.name }}" for="name">
                                                                                                                        Label                                                                                                                    
                                                                                                                    </label>
                                                                                                                    <input  required type="text" class="form-control " id="inputLabel{{ element.name }}" value="{{ element.label }}"></div>
                                                                                                                </div>
                                                                                                                <div class="col-md-12">
                                                                                                                    <div class="form-group">
                                                                                                                        <label id="{{ element.name }}" for="name">
                                                                                                                            Placeholder                                                                                                                              
                                                                                                                        </label>
                                                                                                                        <input type="text" class="form-control" id="inputPlaceholder{{ element.name }}" value="{{ element.placeholder }}"></div>
                                                                                                                    </div>
    
                                                                                                                    {% set  validations = element.getConstraintValidationByType %}
    
                                                                                                                    {% set i = 0 %}
                                                                                                                    {% for validation in validations %}
                                                                                                                        {% set  validationValues = element.getConstraintValidationByElement(validation) %}
                                                                                                                       
                                                                                                             
    
                                                                                                                        {% if validation.html != 'checkbox' %}
                                                                                                                      
                                                                                                                            <div class="col-md-12">
                                                                                                                                <div class="form-group">
                                                                                                                                    <label class="control-label">
                                                                                                                                        {{ validation.contrainte }}
    
                                                                                                                                    </label>
                                                                                                                                    <input value="{% if validationValues is not null %}{{ validationValues.value }}{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% endif %}" id="inputConstraint{{ element.name }}{{ i }}" elementtype="{{ element.elementType.id }}" data-field="{{ element.name }}" type="input" class="form-control input contrainte{{element.name}}">
                                                                                                                                <label  class="error text-error " for="form_name" style =" display :none; ">la valeur de maxlength doit être supérieur à la valeur de minlength!</label>
                                                                                                                            <label  class="error number-error " for="form_name" style =" display :none; ">la valeur de max doit être supérieur à la valeur de min!</label>
                                                                                                                        </div>
                                                                                                                                
                                                                                                                                </div>
                                                                                                                            {% else %}
                                                                                                                                <div class="col-md-12">
                                                                                                                                    <div class="checkbox checkbox-primary">
                                                                                                                                   
                                                                                                                                        <input value="{% if validationValues is not null %}{{ validationValues.value }}{% else%}1{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% else %}4{% endif %}" id="inputConstraint{{ element.name }}" type="checkbox" {% if validationValues is not null %} {% if validationValues.value == '1' %} checked {% endif %} {% endif %}>
                                                                                                                                        
                                                                                                                                        <label for="checkbox1">
                                                                                                                                                {{ validation.contrainte }}
                                                                                                                                            </label>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                {% endif %}
                                                                                                                                {% set i = i+1 %}
                                                                                                                            {% endfor %}
                                                                                                                            
    
                                                                                                                         <center>
                                                                                                                       
                                                                                                                                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">
                                                                                                                                    Fermer                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                
                                                                                                                                </button>
    
                                                                                                                                <button elementTypeName="{{element.elementType.type}}" elementtype="{{ element.elementType.id }}" type="button"  class="btn btn-info waves-effect waves-light btnElmt" data-field="{{ element.name }}"  >
                                                                                                                                    Enregistrer                                                                                                                                           
                                                                                                                                </button>
                                                                                                                           
                                                                                                                            </center>
                                                                                                                    </div>   </form>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
    
                                                                                                    </div>
                                                                                                {% endif %}
                                                                                                  <!--end Date -->
                                                                                                     <!-- start Checkbox -->
                                                                            {% if element.elementType.type == "Checkbox" %}
                                                                            <div class="li_{{ element.name }} form_builder_field elmt ui-sortable-handle" data-field="{{ element.name }}" order-elmt="{{ element.ordre }}" >
                                                                           
                                                                                    <div class="  pull-right">
                                                                                        <div>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-settings-box text-success btn-elmt" id="openModalButton" data-toggle="modal" data-target="#con-close-modal_{{ element.name }}" data-animation="fadein" data-plugin="custommodal" data-overlayspeed="200" data-overlaycolor="#36404a"></i>
                                                                                            </a>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-close-box-outline text-danger remove_bal_field" data-field="{{ element.name }}"></i>
                                                                                            </a>
                                                                                        </div>
                                                                                    </div>
                                                                         
                                                                               
    
                                                                                    <div class="form-group m-l-15 form_elmt">
                                                                                <div class="checkbox checkbox-primary"><input value="" name="" id="placeholder{{ element.name }}" class="labelform" type="checkbox"><label id="label{{ element.name }}">{{ element.label }}</label></div>
                                                                                         
                                                                                    </div>
                                                                                    <br>
    
                                                                                        <div id="con-close-modal_{{ element.name }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                                                                                            <div class="modal-dialog">
                                                                                                <div class="modal-content">
                                                                                                    <div class="modal-header">
                                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="display:block;">
                                                                                                            ×                                                                                                        
                                                                                                        </button>
                                                                                                        <h4 class="modal-title">
                                                                                                        <center>
                                                                                                            Parametrage du champ   
                                                                                                        </center>                                                                                                    
                                                                                                        </h4>
                                                                                                    </div>
                                                                                                    <form id="form_{{ element.name }}" class="modal-body-form{{ element.name }}" name="validationform">
    
                                                                                                    <div class=" modal-body modal-body{{ element.name }} custom-modal-text text-left">
    
                                                                                                            <div class="col-md-12">
                                                                                                                <div class="form-group">
                                                                                                                    <label id="{{ element.name }}" for="name">
                                                                                                                        Label                                                                                                                    
                                                                                                                    </label>
                                                                                                                    <input  required type="text" class="form-control " id="inputLabel{{ element.name }}" value="{{ element.label }}"></div>
                                                                                                                </div>
                                                                                                                <div class="col-md-12">
                                                                                                                    <div class="form-group">
                                                                                                                        <label id="{{ element.name }}" for="name">
                                                                                                                            Placeholder                                                                                                                              
                                                                                                                        </label>
                                                                                                                        <input type="text" class="form-control" id="inputPlaceholder{{ element.name }}" value="{{ element.placeholder }}"></div>
                                                                                                                    </div>
    
                                                                                                                    {% set  validations = element.getConstraintValidationByType %}
    
                                                                                                                    {% set i = 0 %}
                                                                                                                    {% for validation in validations %}
                                                                                                                        {% set  validationValues = element.getConstraintValidationByElement(validation) %}
                                                                                                                       
                                                                                                             
    
                                                                                                                        {% if validation.html != 'checkbox' %}
                                                                                                                      
                                                                                                                            <div class="col-md-12">
                                                                                                                                <div class="form-group">
                                                                                                                                    <label class="control-label">
                                                                                                                                        {{ validation.contrainte }}
    
                                                                                                                                    </label>
                                                                                                                                    <input value="{% if validationValues is not null %}{{ validationValues.value }}{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% endif %}" id="inputConstraint{{ element.name }}{{ i }}" elementtype="{{ element.elementType.id }}" data-field="{{ element.name }}" type="input" class="form-control input contrainte{{element.name}}">
                                                                                                                                <label  class="error text-error " for="form_name" style =" display :none; ">la valeur de maxlength doit être supérieur à la valeur de minlength!</label>
                                                                                                                            <label  class="error number-error " for="form_name" style =" display :none; ">la valeur de max doit être supérieur à la valeur de min!</label>
                                                                                                                        </div>
                                                                                                                                
                                                                                                                                </div>
                                                                                                                            {% else %}
                                                                                                                                <div class="col-md-12">
                                                                                                                                    <div class="checkbox checkbox-primary">
                                                                                                                                   
                                                                                                                                        <input value="{% if validationValues is not null %}{{ validationValues.value }}{% else%}1{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% else %}4{% endif %}" id="inputConstraint{{ element.name }}" type="checkbox" {% if validationValues is not null %} {% if validationValues.value == '1' %} checked {% endif %} {% endif %}>
                                                                                                                                        
                                                                                                                                        <label for="checkbox1">
                                                                                                                                                {{ validation.contrainte }}
                                                                                                                                            </label>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                {% endif %}
                                                                                                                                {% set i = i+1 %}
                                                                                                                            {% endfor %}
                                                                                                                            
    
                                                                                                                         <center>
                                                                                                                       
                                                                                                                                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">
                                                                                                                                    Fermer                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                
                                                                                                                                </button>
    
                                                                                                                                <button elementTypeName="{{element.elementType.type}}" elementtype="{{ element.elementType.id }}" type="button"  class="btn btn-info waves-effect waves-light btnElmt" data-field="{{ element.name }}"  >
                                                                                                                                    Enregistrer                                                                                                                                           
                                                                                                                                </button>
                                                                                                                           
                                                                                                                            </center>
                                                                                                                    </div>   </form>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
    
                                                                                                    </div>
                                                                                                {% endif %}
                                                                                                  <!--end Checkbox -->
                                                                                                   <!-- start Email -->
                                                                            {% if element.elementType.type == "E-mail" %}
                                                                            <div class="li_{{ element.name }} form_builder_field elmt ui-sortable-handle" data-field="{{ element.name }}" order-elmt="{{ element.ordre }}" >
                                                                                <div class="form-group" data-field="{{ element.name }}">
                                                                                    <div class="  pull-right">
                                                                                        <div>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-settings-box text-success btn-elmt" id="openModalButton" data-toggle="modal" data-target="#con-close-modal_{{ element.name }}" data-animation="fadein" data-plugin="custommodal" data-overlayspeed="200" data-overlaycolor="#36404a"></i>
                                                                                            </a>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-close-box-outline text-danger remove_bal_field" data-field="{{ element.name }}"></i>
                                                                                            </a>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div>
    
                                                                                    <div class="form-group m-l-15 form_elmt">
                                                                                        <p id="label{{ element.name }}" class="control-label labelform">
                                                                                            {{ element.label }}
    
                                                                                </p> 
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <input id="placeholder{{ element.name }}" type="{{ element.elementType.typeHtml }}" name="" placeholder="{{ element.placeholder }}" class="form-control "></div>
                                                                                            </div>
                                                                                        </div>
                                                                                      
                                                                                    </div>
                                                                                    <br>
    
                                                                                        <div id="con-close-modal_{{ element.name }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                                                                                            <div class="modal-dialog">
                                                                                                <div class="modal-content">
                                                                                                    <div class="modal-header">
                                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="display:block;">
                                                                                                            ×                                                                                                        
                                                                                                        </button>
                                                                                                        <h4 class="modal-title">
                                                                                                        <center>
                                                                                                            Parametrage du champ   
                                                                                                        </center>                                                                                                    
                                                                                                        </h4>
                                                                                                    </div>
                                                                                                    <form id="form_{{ element.name }}" class="modal-body-form{{ element.name }}" name="validationform">
    
                                                                                                    <div class=" modal-body modal-body{{ element.name }} custom-modal-text text-left">
    
                                                                                                            <div class="col-md-12">
                                                                                                                <div class="form-group">
                                                                                                                    <label id="{{ element.name }}" for="name">
                                                                                                                        Label                                                                                                                    
                                                                                                                    </label>
                                                                                                                    <input  required type="text" class="form-control " id="inputLabel{{ element.name }}" value="{{ element.label }}"></div>
                                                                                                                </div>
                                                                                                                <div class="col-md-12">
                                                                                                                    <div class="form-group">
                                                                                                                        <label id="{{ element.name }}" for="name">
                                                                                                                            Placeholder                                                                                                                              
                                                                                                                        </label>
                                                                                                                        <input type="text" class="form-control" id="inputPlaceholder{{ element.name }}" value="{{ element.placeholder }}"></div>
                                                                                                                    </div>
    
                                                                                                                    {% set  validations = element.getConstraintValidationByType %}
    
                                                                                                                    {% set i = 0 %}
                                                                                                                    {% for validation in validations %}
                                                                                                                        {% set  validationValues = element.getConstraintValidationByElement(validation) %}
                                                                                                                       
                                                                                                             
    
                                                                                                                        {% if validation.html != 'checkbox' %}
                                                                                                                      
                                                                                                                            <div class="col-md-12">
                                                                                                                                <div class="form-group">
                                                                                                                                    <label class="control-label">
                                                                                                                                        {{ validation.contrainte }}
    
                                                                                                                                    </label>
                                                                                                                                    <input value="{% if validationValues is not null %}{{ validationValues.value }}{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% endif %}" id="inputConstraint{{ element.name }}{{ i }}" elementtype="{{ element.elementType.id }}" data-field="{{ element.name }}" type="input" class="form-control input contrainte{{element.name}}">
                                                                                                                                <label  class="error text-error " for="form_name" style =" display :none; ">la valeur de maxlength doit être supérieur à la valeur de minlength!</label>
                                                                                                                            <label  class="error number-error " for="form_name" style =" display :none; ">la valeur de max doit être supérieur à la valeur de min!</label>
                                                                                                                        </div>
                                                                                                                                
                                                                                                                                </div>
                                                                                                                            {% else %}
                                                                                                                                <div class="col-md-12">
                                                                                                                                    <div class="checkbox checkbox-primary">
                                                                                                                                   
                                                                                                                                        <input value="{% if validationValues is not null %}{{ validationValues.value }}{% else%}1{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% else %}4{% endif %}" id="inputConstraint{{ element.name }}" type="checkbox" {% if validationValues is not null %} {% if validationValues.value == '1' %} checked {% endif %} {% endif %}>
                                                                                                                                        
                                                                                                                                        <label for="checkbox1">
                                                                                                                                                {{ validation.contrainte }}
                                                                                                                                            </label>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                {% endif %}
                                                                                                                                {% set i = i+1 %}
                                                                                                                            {% endfor %}
                                                                                                                            
    
                                                                                                                         <center>
                                                                                                                       
                                                                                                                                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">
                                                                                                                                    Fermer                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                
                                                                                                                                </button>
    
                                                                                                                                <button elementTypeName="{{element.elementType.type}}" elementtype="{{ element.elementType.id }}" type="button"  class="btn btn-info waves-effect waves-light btnElmt" data-field="{{ element.name }}"  >
                                                                                                                                    Enregistrer                                                                                                                                           
                                                                                                                                </button>
                                                                                                                           
                                                                                                                            </center>
                                                                                                                    </div>   </form>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
    
                                                                                                    </div>
                                                                                                {% endif %}
                                                                                                  <!--end email  -->
                                                                                                      <!-- start dropdown list -->
                                                                            {% if element.elementType.type == "Dropdown List" %}
                                                                            <div class="li_{{ element.name }} form_builder_field elmt ui-sortable-handle" data-field="{{ element.name }}" order-elmt="{{ element.ordre }}" >
                                                                                <div class="form-group" data-field="{{ element.name }}">
                                                                                    <div class="  pull-right">
                                                                                        <div>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-settings-box text-success btn-elmt" id="openModalButton" data-toggle="modal" data-target="#con-close-modal_{{ element.name }}" data-animation="fadein" data-plugin="custommodal" data-overlayspeed="200" data-overlaycolor="#36404a"></i>
                                                                                            </a>
                                                                                            <a class="table-action-btn h3">
                                                                                                <i class="mdi mdi-close-box-outline text-danger remove_bal_field" data-field="{{ element.name }}"></i>
                                                                                            </a>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div>
    
                                                                                    <div class="form-group m-l-15 form_elmt">
                                                                                        <p id="label{{ element.name }}" class="control-label labelform">
                                                                                            {{ element.label }}
    
                                                                                </p> 
                                                                                        <div class="row">
                                                                                            <div class="col-md-12">
                                                                                                <select id="placeholder{{ element.name }}" type="{{ element.elementType.typeHtml }}" name="" placeholder="{{ element.placeholder }}" class="form-control ">
                                                                                                {% set  multipleElements = element.multipleElements %}
                                                                                                {% for multipleElement in multipleElements %}
                                                                                                   <option>{{multipleElement.value}}</option>
                                                                                                   {% endfor %}
                                                                                            </select></div>
                                                                                            </div>
                                                                                        </div>
                                                                                      
                                                                                    </div>
                                                                                    <br>
    
                                                                                        <div id="con-close-modal_{{ element.name }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
                                                                                            <div class="modal-dialog">
                                                                                                <div class="modal-content">
                                                                                                    <div class="modal-header">
                                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="display:block;">
                                                                                                            ×                                                                                                        
                                                                                                        </button>
                                                                                                        <h4 class="modal-title">
                                                                                                        <center>
                                                                                                            Parametrage du champ   
                                                                                                        </center>                                                                                                    
                                                                                                        </h4>
                                                                                                    </div>
                                                                                                    <form id="form_{{ element.name }}" class="modal-body-form{{ element.name }}" name="validationform">
    
                                                                                                    <div class=" modal-body modal-body{{ element.name }} custom-modal-text text-left">
                                                                                                    <div class="row">
                                                                                                            <div class="col-md-12">
                                                                                                                <div class="form-group">
                                                                                                                    <label id="{{ element.name }}" for="name">
                                                                                                                        Label                                                                                                                    
                                                                                                                    </label>
                                                                                                                    <input  required type="text" class="form-control " id="inputLabel{{ element.name }}" value="{{ element.label }}"></div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                                <div class="row">
                                                                                                                <div class="col-md-12">
                                                                                                                    <div class="form-group">
                                                                                                                        <label id="{{ element.name }}" for="name">
                                                                                                                            Placeholder                                                                                                                              
                                                                                                                        </label>
                                                                                                                        <input type="text" class="form-control" id="inputPlaceholder{{ element.name }}" value="{{ element.placeholder }}"></div>
                                                                                                                    </div>
                                                                                                                </div>
    
                                                                                                                    {% set  validations = element.getConstraintValidationByType %}
    
                                                                                                                    {% set i = 0 %}
                                                                                                                    {% for validation in validations %}
                                                                                                                        {% set  validationValues = element.getConstraintValidationByElement(validation) %}
                                                                                                                       
                                                                                                             
    
                                                                                                                        {% if validation.html != 'checkbox' %}
                                                                                                                        <div class="row">
                                                                                                                            <div class="col-md-12">
                                                                                                                                <div class="form-group">
                                                                                                                                    <label class="control-label">
                                                                                                                                        {{ validation.contrainte }}
    
                                                                                                                                    </label>
                                                                                                                                    <input value="{% if validationValues is not null %}{{ validationValues.value }}{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% endif %}" id="inputConstraint{{ element.name }}{{ i }}" elementtype="{{ element.elementType.id }}" data-field="{{ element.name }}" type="input" class="form-control input contrainte{{element.name}}">
                                                                                                                                <label  class="error text-error " for="form_name" style =" display :none; ">la valeur de maxlength doit être supérieur à la valeur de minlength!</label>
                                                                                                                            <label  class="error number-error " for="form_name" style =" display :none; ">la valeur de max doit être supérieur à la valeur de min!</label>
                                                                                                                        </div>
                                                                                                                                
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                            {% else %}
                                                                                                                            <div class="row">
                                                                                                                                <div class="col-md-12">
                                                                                                                                    <div class="checkbox checkbox-primary">
                                                                                                                                   
                                                                                                                                        <input value="{% if validationValues is not null %}{{ validationValues.value }}{% else%}1{% endif %}" name="{% if validationValues is not null %}{{ validationValues.constraintValidation.id }}{% else %}4{% endif %}" id="inputConstraint{{ element.name }}" type="checkbox" {% if validationValues is not null %} {% if validationValues.value == '1' %} checked {% endif %} {% endif %}>
                                                                                                                                        
                                                                                                                                        <label for="checkbox1">
                                                                                                                                                {{ validation.contrainte }}
                                                                                                                                            </label>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                                {% endif %}
                                                                                                                                {% set i = i+1 %}
                                                                                                                            {% endfor %}
                                                                                                                        <div class="row ">
                                                                                                                    <div class="col-md-8 ">
                                                                                                                    {% set  multipleElements = element.multipleElements %}
                                                                                                                           
                                                                                                                <div class="form-group choice{{element.name}}">
                                                                                                                       
                                                                                                            <label>Les Options</label>&nbsp;&nbsp;&nbsp;<a class="table-action-btn h3"><i class="mdi mdi-plus-box text-info addChoice" data-field="{{element.name}}" ></i></a>
                                                                                                                        {% for multipleElement in multipleElements %}
                                                                                                                        <div class="row dropdown_{{multipleElement.name}}" data-dropdown-field="{{multipleElement.name}}">
                                                                                                                    <div class="col-md-8">
                                                                                                               <br> <input value="{{multipleElement.value}}" data-name="choice_{{element.name}}" dropdownfield="{{multipleElement.name}}" data_field="{{element.name}}" id="{{multipleElement.name}}" type="text" class="form-control choice option{{element.name}}" placeholder="Choix">
                                                                                                            </div> <div class="col-md-4"><a class="table-action-btn h3"><i class="mdi mdi-close-box-outline text-danger remove_choice" data-dropdown-field="{{multipleElement.name}}"></i></a></div>
                                                                                                       
                                                                                            </div>
                                                                                        {% endfor %}
                                                                                        </div>
                                                                                  
                                                                                    </div>
                                                                                </div>
                                                                                                                              
    
                                                                                                                         <center>
                                                                                                                       
                                                                                                                                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">
                                                                                                                                    Fermer                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                
                                                                                                                                </button>
    
                                                                                                                                <button elementTypeName="{{element.elementType.type}}" elementtype="{{ element.elementType.id }}" type="button"  class="btn btn-info waves-effect waves-light btnElmt" data-field="{{ element.name }}"  >
                                                                                                                                    Enregistrer                                                                                                                                           
                                                                                                                                </button>
                                                                                                                           
                                                                                                                            </center>
                                                                                                                    </div>   </form>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
    
                                                                                                    </div>
                                                                                                {% endif %}
                                                                                                  <!--end dropdown list -->
                                                                                                  

                                                                                            {% endfor %}

                                                                                        </div>
                                                                              
                                                                                      
                                                                                    </div>
                                                                                </div>
                                                                              
                                                                            {% endfor %}
                                                                        

                                                                            
                                                                        <!-- end col -->
                                                                
                                                                    
                                                                    </div>

                                                                </div>
                                                            </div>

                                                          
                                                        </div>

                                                    </div>

                                                    <!-- End row -->
                                                </div>

                                            
                                        	
                                            </div>



                                        
                                        </div>
                                        

                                    </div>
                             
                                <button onclick="topFunction()" class="btn btn-icon waves-effect waves-light btn-success m-b-5 btnright" id="top" style="top:44%; height:38px; "><i class="ion-arrow-up-a"></i></button>
                          <br><br>
                        <a type="button" href="{{ path('visualiseForm', {'url':url }) }}" class="btn btn-icon waves-effect waves-light btn-success m-b-5 btnright" style="top:52%; height:38px;"> <i class="ion-ios7-eye"></i> </a>
                        <br><br>
                        <button onclick="downFunction()" class="btn btn-icon waves-effect waves-light btn-success m-b-5 btnright" id="down" style="top:60%; height:38px;"><i class="ion-arrow-down-a"></i></button>
                           
                    </div>
                              
                                </div>

                            </div>
                         
                        </div>

                  
                  


                                                    {% endblock %}

                                                {% endblock %}
                                                
                                                {% block javascript %}


                                                <script>
                                                    $(document).ready(function () {
                                                    $(validationform).validate();
                                                    })
//Get the button:
mybutton = document.getElementById("top");
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};


// When the user clicks on the button, scroll to the top of the document
function topFunction() {
document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}

 //Get the button:
 mybutton = document.getElementById("down");

 // When the user scrolls down 20px from the top of the document, show the button
 window.onscroll = function() {scrollFunction()};
 // When the user clicks on the button, scroll to the top of the document
 function downFunction() {
 
   document.documentElement.scrollTop = 100000; // For Chrome, Firefox, IE and Opera
 }
                                                    </script>

                                                    {% endblock %}
                                                
                                                